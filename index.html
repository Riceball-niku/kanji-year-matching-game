function numberToJapaneseReading(num) {
  const units = ["", "いち","に","さん","よん","ご","ろく","なな","はち","きゅう"];
  const tens = ["", "じゅう","にじゅう","さんじゅう","よんじゅう","ごじゅう","ろくじゅう","ななじゅう","はちじゅう","きゅうじゅう"];

  let result = "";

  // Thousands (1000–9999)
  if (num >= 1000) {
    const t = Math.floor(num / 1000);
    if (t === 1) result += "せん";
    else if (t === 3) result += "さんぜん";
    else result += units[t] + "せん";
    num %= 1000;
  }

  // Hundreds (100–999)
  if (num >= 100) {
    const h = Math.floor(num / 100);
    if (h === 1) result += "ひゃく";
    else if (h === 3) result += "さんびゃく";
    else if (h === 6) result += "ろっぴゃく";
    else if (h === 8) result += "はっぴゃく";  // FIXED
    else result += units[h] + "ひゃく";
    num %= 100;
  }

  // Tens (10–99)
  if (num >= 10) {
    const te = Math.floor(num / 10);
    result += tens[te];
    num %= 10;
  }

  // Units (1–9)
  if (num > 0) {
    result += units[num];
  }

  return result + "ねん";
}
